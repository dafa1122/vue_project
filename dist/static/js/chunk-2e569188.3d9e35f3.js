(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e569188"],{"1e4b":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-editor-container"},[e("panel-group",{on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),e("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[e("div",{staticClass:"chart-wrapper"},[e("bar-chart")],1)]),t._v(" "),e("el-dialog",{attrs:{title:t.title,visible:t.open,width:"500px","append-to-body":"","before-close":t.handleClose},on:{"update:visible":function(a){t.open=a}}},[e("el-carousel",{attrs:{"indicator-position":"outside",autoplay:!1}},t._l(t.noticeList,(function(a){return e("el-carousel-item",{key:a},[e("h3",[t._v(t._s(a.noticeContent))])])})),1)],1)],1)},i=[],s=e("fbc4"),r=e("9488"),c=e("a78e"),o=e.n(c),l=e("b775");function d(t){return Object(l["a"])({url:"/merchant/notice/list",method:"get",params:t})}var u={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},h={name:"Index",components:{PanelGroup:s["default"],BarChart:r["default"]},data:function(){return{lineChartData:u.newVisitis,animate:!1,marqueeList:[],noticeList:[],open:!1,title:"重要通知"}},created:function(){var t=this;d(this.queryParams).then((function(a){for(var e=[],n=a.data,i=[],s=0;s<n.length;s++)2==n[s]["noticeType"]?e.push(n[s]):1==n[s]["noticeType"]&&i.push(n[s]);i.length>0&&i[0]["updateTime"]!==o.a.get("updateTime")&&(t.noticeList=i,t.open=!0),t.marqueeList=e,setInterval(t.showMarquee,3e3)}))},methods:{handleSetLineChartData:function(t){this.lineChartData=u[t]},check:function(t){this.$alert(t["noticeContent"],t["noticeTitle"],{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,closeOnClickModal:!0})},handleClose:function(t){console.log(this.noticeList[0]["updateTime"]),o.a.set("updateTime",this.noticeList[0]["updateTime"]),t()},showMarquee:function(){var t=this;this.animate=!0,setTimeout((function(){t.marqueeList.push(t.marqueeList[0]),t.marqueeList.shift(),t.animate=!1}),500)}}},p=h,m=(e("fe8b"),e("2877")),f=Object(m["a"])(p,n,i,!1,null,"48cd0a18",null);a["default"]=f.exports},"6d6f":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"a",(function(){return s}));var n=e("b775");e("c38a");function i(){return Object(n["a"])({url:"/merchant/home/amountStatement",method:"get"})}function s(){return Object(n["a"])({url:"/merchant/home/barChartStatement",method:"get"})}},9488:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},i=[],s=(e("28a5"),e("313e")),r=e.n(s),c=e("feb2"),o=e("6d6f");e("817d");var l=6e3,d={mixins:[c["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,chartData:{date:[],today:[],total:[]}}},mounted:function(){var t=this;this.$nextTick((function(){Object(o["a"])().then((function(a){for(var e=a.data,n=[],i=[],s=[],r=0;r<e.length;r++){var c=e[r]["date"].split("-");n.push(c[1]+"-"+c[2]),i.push(e[r]["sucAmount"]),s.push(e[r]["totalAmount"])}t.chartData.date=n,t.chartData.today=i,t.chartData.total=s,t.initChart(t.chartData)}))}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.date,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"未支付",type:"bar",stack:"vistors",barWidth:"60%",data:t.total,animationDuration:l},{name:"已支付",type:"bar",stack:"vistors",barWidth:"60%",data:t.today,animationDuration:l}]})}}},u=d,h=e("2877"),p=Object(h["a"])(u,n,i,!1,null,null,null);a["default"]=p.exports},aadf:function(t,a,e){},cc56:function(t,a,e){},ef31:function(t,a,e){"use strict";e("cc56")},fbc4:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("newVisitis")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-people"},[e("svg-icon",{attrs:{"icon-class":"build","class-name":"card-panel-icon"}})],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          总收入\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":t.panel.receiptedAmount,"end-val":t.panel.receiptedAmount,duration:2600}})],1)])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("messages")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-message"},[e("svg-icon",{attrs:{"icon-class":"monitor","class-name":"card-panel-icon"}})],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          今日收入\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":t.panel.dayReceiptedAmount,"end-val":t.panel.dayReceiptedAmount,duration:3e3}})],1)])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("purchases")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-money"},[e("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          余额\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":t.panel.amount,"end-val":t.panel.amount,duration:3200}})],1)])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("shoppings")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[e("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          冻结余额\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":t.panel.lockAmount,"end-val":t.panel.lockAmount,duration:3600}})],1)])])],1)},i=[],s=e("ec1b"),r=e.n(s),c=e("6d6f"),o={components:{CountTo:r.a},data:function(){return{panel:[]}},created:function(){var t=this;Object(c["b"])().then((function(a){t.panel=a.data}))},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},l=o,d=(e("ef31"),e("2877")),u=Object(d["a"])(l,n,i,!1,null,"b26f056a",null);a["default"]=u.exports},fe8b:function(t,a,e){"use strict";e("aadf")},feb2:function(t,a,e){"use strict";e.r(a);var n=e("ed08");a["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},initListener:function(){var t=this;this.$_resizeHandler=Object(n["b"])((function(){t.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var t=this.chart;t&&t.resize()}}}}}]);